/* -----------------------------------------------------------------------------------------
Theme
----------------------------------------------------------------------------------------- */

/* 
                  Moonstone Theme
                          by Erin Skidds
                  https://github.com/DudeThatsErin/Moonstone
                  https://buymeacoffee.com/erinskidds
                  https://discord.gg/XcJWhE3SEA

      NOTE: This theme does not and will not support the Obsidian Style Settings plugin until it is updated regularly again. As of August 24, 2025, it hasn't been updated in a year so I have no plans to support it.
*/

/* -----------------------------------------------------------------------------------------
                                       Colors
----------------------------------------------------------------------------------------- */
/* ----------------------------------------------
                Dark Theme
------------------------------------------------- */
.theme-dark {
  /* File Explorer Colors */
  --file-explorer-active-color: rgb(5, 13, 46);
  --file-explorer-hover-color: rgb(246, 246, 246);
  --file-explorer-bg-active-color: rgba(43, 76, 223, 0.603);
  /* background-color: rgba(102, 113, 174, 0.401) !important; */
  --file-explorer-bg-hover-color: rgba(58, 60, 69, 0.603);
  --bg-behind-note: rgba(58, 60, 69);
  --bg-behind-file-explorer: rgba(58, 60, 69);
  
  /* Navigation Colors */
  --nav-collapse-icon-color: black;
  --nav-item-color-active: black;
  --active-file-text-color: rgb(255, 255, 255);
  
  /* Rainbow Folder Colors */
  --folder-color-1: rgba(243, 139, 168, 0.493);
  --folder-color-2: rgba(235, 160, 172, 0.493);
  --folder-color-3: rgba(250, 179, 135, 0.493);
  --folder-color-4: rgba(249, 226, 175, 0.493);
  --folder-color-5: rgba(166, 227, 161, 0.493);
  --folder-color-6: rgba(148, 226, 213, 0.493);
  --folder-color-7: rgba(137, 220, 235, 0.493);
  --folder-color-8: rgba(116, 199, 236, 0.493);
  --folder-color-9: rgba(135, 176, 249, 0.493);
  --folder-color-10: rgba(180, 190, 254, 0.493);
  --folder-color-11: rgba(203, 166, 247, 0.493);
  --file-explorer-file-color: rgba(58, 60, 69, 0.603);
  --file-explorer-file-hover-color: rgba(58, 60, 69, 0.603);

  /* Card Variables */
  --card-border-radius-dark: 8px;
  --card-shadow-dark: 0 -1px 0 0 var(--background-modifier-border), 0 0 0 1px var(--background-modifier-border);
  --card-shadow-border-radius-dark: calc(var(--card-border-radius-dark) - 1px);

  /* Obsidian Theme Variables */
  --background-primary: var(--bg-behind-note);
  --background-secondary: var(--bg-behind-file-explorer);
}

/* ----------------------------------------------
               Light Theme
------------------------------------------------- */

.theme-light {
  /* File Explorer Colors */
  --file-explorer-active-color: rgb(5, 13, 46);
  --file-explorer-hover-color: rgb(25, 25, 25);
  /* background-color: rgba(102, 113, 174, 0.401) !important; */
  --file-explorer-bg-active-color: rgba(43, 76, 223, 0.603);
  --file-explorer-bg-hover-color: rgba(58, 60, 69, 0.603);
  --bg-behind-note: rgba(248, 250, 255, 0.955);
  --bg-behind-file-explorer: rgb(215, 215, 215);
  
  /* Workspace background for card layout */
  --background-primary: rgb(245, 245, 245);
  --background-secondary: rgb(235, 235, 235);
  
  /* Navigation Colors */
  --nav-collapse-icon-color: black;
  --nav-item-color-active: black;
  --active-file-text-color: rgb(255, 255, 255);
  
  /* Rainbow Folder Colors */
  --folder-color-1: rgba(243, 139, 168, 0.493);
  --folder-color-2: rgba(235, 160, 172, 0.493);
  --folder-color-3: rgba(250, 179, 135, 0.493);
  --folder-color-4: rgba(249, 226, 175, 0.493);
  --folder-color-5: rgba(166, 227, 161, 0.493);
  --folder-color-6: rgba(148, 226, 213, 0.493);
  --folder-color-7: rgba(137, 220, 235, 0.493);
  --folder-color-8: rgba(116, 199, 236, 0.493);
  --folder-color-9: rgba(135, 176, 249, 0.493);
  --folder-color-10: rgba(180, 190, 254, 0.493);
  --folder-color-11: rgba(203, 166, 247, 0.493);
  --file-explorer-file-color: rgba(197, 198, 200, 0.603);
  --file-explorer-file-hover-color: rgba(190, 193, 203, 0.603);

  /* Card Variables */
  --card-border-radius-light: 8px;
  --card-shadow-light: 0 -1px 0 0 rgba(255, 255, 255, .24), 0 0 0 1px var(--background-modifier-border), 0 0 6px var(--background-modifier-border);
  --card-shadow-border-radius-light: calc(var(--card-border-radius-light) - 1px);

  /* Obsidian Theme Variables */
  --background-primary: var(--bg-behind-note);
  --background-secondary: var(--bg-behind-file-explorer);
}

/* -----------------------------------------------------------------------------------------
                                     Card Layout
----------------------------------------------------------------------------------------- */

/* Workspace background for card layout */
body:not(.is-mobile) .workspace {
  background-color: var(--background-secondary) !important;
}

/* Card layout light theme - Border theme style */
body:not(.is-mobile) .workspace::before {
  display: none;
}

body:not(.is-mobile) .workspace.is-left-sidedock-open .workspace-split.mod-horizontal.mod-left-split {
  margin-right: 16px;
}

body:not(.is-mobile) .workspace.is-right-sidedock-open .workspace-split.mod-horizontal.mod-right-split {
  margin-left: 16px;
}

body:not(.is-mobile) .workspace-split.mod-vertical {
  gap: 16px;
}

body:not(.is-mobile) .workspace-tab-container {
  border-radius: var(--card-border-radius-light, 8px) !important;
  overflow: hidden !important;
  box-shadow: var(--card-shadow-light);
}

body:not(.is-mobile) .workspace-tabs,
body:not(.is-mobile) .workspace-split {
  overflow: visible !important;
}

body:not(.is-mobile) .workspace-tabs,
body:not(.is-mobile) .workspace-tab-header-container {
  background-color: transparent !important;
}

body:not(.is-mobile) .workspace-tabs:not(.mod-top) .workspace-tab-container {
  border-top: unset;
}

/* Card layout dark theme - Border theme style */
body:not(.is-mobile).theme-dark .workspace::before {
  display: none;
}

body:not(.is-mobile).theme-dark .workspace.is-left-sidedock-open .workspace-split.mod-horizontal.mod-left-split {
  margin-right: 16px;
}

body:not(.is-mobile).theme-dark .workspace.is-right-sidedock-open .workspace-split.mod-horizontal.mod-right-split {
  margin-left: 16px;
}

body:not(.is-mobile).theme-dark .workspace-split.mod-vertical {
  gap: 16px;
}

body:not(.is-mobile).theme-dark .workspace-tab-container {
  border-radius: var(--card-border-radius-dark, 8px) !important;
  overflow: hidden !important;
  box-shadow: var(--card-shadow-dark);
}

body:not(.is-mobile).theme-dark .workspace-tabs,
body:not(.is-mobile).theme-dark .workspace-split {
  overflow: visible !important;
}

body:not(.is-mobile).theme-dark .workspace-tabs,
body:not(.is-mobile).theme-dark .workspace-tab-header-container {
  background-color: transparent !important;
}

body:not(.is-mobile).theme-dark .workspace-tabs:not(.mod-top) .workspace-tab-container {
  border-top: unset;
}

/* Card highlight - matches Border theme settings */
body:not(.is-mobile) .mod-root:has(.workspace-tabs+.workspace-tabs) .workspace-tabs.mod-active .workspace-tab-container {
  outline-offset: 0px;
  outline: 2px solid var(--color-accent);
}

/* Card layout scrolling fix */
body:not(.is-mobile) .workspace-tabs.mod-stacked .workspace-tab-container {
  overflow-x: auto !important;
}

body:not(.is-mobile) .workspace-tabs.mod-stacked .workspace-tab-container::-webkit-scrollbar-button {
  width: 2px !important;
}

body:not(.is-mobile) .workspace-tabs.mod-stacked .workspace-tab-container::-webkit-scrollbar-track {
  display: none;
}

/* Vault profile styling to match card layout */
body:not(.is-mobile) .workspace-sidedock-vault-profile {
  border-radius: var(--card-border-radius-light, 8px) !important;
  background-color: var(--background-secondary) !important;
  margin: 4px;
}

body:not(.is-mobile).theme-dark .workspace-sidedock-vault-profile {
  border-radius: var(--card-border-radius-dark, 8px) !important;
}

/* -----------------------------------------------------------------------------------------
                                     Rainbow Folders
----------------------------------------------------------------------------------------- */
.nav-folder-children > .nav-folder,
.nav-files-container > div > .nav-folder {
  background-color: var(--folder-color);
  /* Text color on file explorer active state */
  --nav-item-color: var(--file-explorer-active-color);
  /* Text color on file explorer hover */
  --nav-item-color-hover: var(--file-explorer-hover-color);
  --nav-collapse-icon-color: var(--nav-collapse-icon-color);
  --nav-item-color-active: var(--nav-item-color-active);
  border-radius: 6px;
}

.nav-folder-children > .nav-folder {
  filter: opacity(0.8);
}

.nav-files-container > div > .nav-folder:nth-child(11n + 2), .nav-files-container > div > .nav-folder:nth-child(11n + 2).tree-item-children {
  --folder-color: var(--folder-color-1);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 3), .nav-files-container > div > .nav-folder:nth-child(11n + 3).tree-item-children {
  --folder-color: var(--folder-color-2);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 4), .nav-files-container > div > .nav-folder:nth-child(11n + 4).tree-item-children {
  --folder-color: var(--folder-color-3);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 5), .nav-files-container > div > .nav-folder:nth-child(11n + 5).tree-item-children {
  --folder-color: var(--folder-color-4);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 6), .nav-files-container > div > .nav-folder:nth-child(11n + 6).tree-item-children {
  --folder-color: var(--folder-color-5);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 7), .nav-files-container > div > .nav-folder:nth-child(11n + 7).tree-item-children {
  --folder-color: var(--folder-color-6);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 8), .nav-files-container > div > .nav-folder:nth-child(11n + 8).tree-item-children {
  --folder-color: var(--folder-color-7);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 9), .nav-files-container > div > .nav-folder:nth-child(11n + 9).tree-item-children {
  --folder-color: var(--folder-color-8);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 10), .nav-files-container > div > .nav-folder:nth-child(11n + 10).tree-item-children {
  --folder-color: var(--folder-color-9);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 11), .nav-files-container > div > .nav-folder:nth-child(11n + 11).tree-item-children {
  --folder-color: var(--folder-color-10);
}
.nav-files-container > div > .nav-folder:nth-child(11n + 12), .nav-files-container > div > .nav-folder:nth-child(11n + 12).tree-item-children {
  --folder-color: var(--folder-color-11);
}

[data-type="file-explorer"] .nav-files-container > div > .nav-file {
  background-color: var(--file-explorer-file-color);
}

[data-type="file-explorer"] .nav-files-container > div > .nav-file:hover {
  /* background-color: rgba(58, 60, 69, 0.603); */
  background-color: var(--file-explorer-file-hover-color);
}

/* active file bg color fix for minimal & border themes */
.nav-file-title.is-active, .nav-folder-title.is-active,
.theme-dark:not(.is-grabbing) .workspace-leaf-content[data-type="bookmarks"] .tree-item-self.is-active:hover, .theme-dark .workspace-leaf-content[data-type="bookmarks"] .tree-item-self.is-active, .theme-dark .mk-tree-item.nav-folder-title.is-active.is-selected, .theme-dark .mk-tree-item.nav-file-title.is-active.is-selected, .theme-dark:not(.is-grabbing) .nav-file-title.is-active:hover, .theme-dark:not(.is-grabbing) .nav-folder-title.is-active:hover, .theme-dark .nav-file-title.is-active, .theme-dark .nav-folder-title.is-active {
    background-color: var(--file-explorer-bg-active-color) !important;
    color: var(--active-file-text-color) !important;
}